<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                template="/WEB-INF/incl/layouts/#{not empty identity.getWorkingParameter('layout') ? identity.getWorkingParameter('layout') : 'ATIP'}.xhtml">

  <f:metadata>
    <f:viewAction action="#{authenticator.prepareAuthenticationForStep}" />
    <f:viewAction action="#{language.setLocaleCode('fr')}" />
  </f:metadata>

  <ui:param name="title" value="Se connecter Ã  #{language.getMessage(identity.getWorkingParameter('content').concat('.name'))}" />
  <ui:param name="locale" value="fr" />
  <ui:param name="step" value="chooser" />

  <ui:define name="styles">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/styles.xhtml" />
  </ui:define>

  <ui:define name="name">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/name-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="description">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/description-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="services">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/services-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="help">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/help-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="register">
    <ui:include src="/WEB-INF/incl/content/#{not empty identity.getWorkingParameter('content') ? identity.getWorkingParameter('content') : 'default'}/register-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="chooser">
    <ui:include src="/WEB-INF/incl/components/choosers/#{not empty identity.getWorkingParameter('chooser') ? identity.getWorkingParameter('chooser') : 'Canada'}-#{view.locale.language}.xhtml" />
  </ui:define>

  <ui:define name="scripts">
    <script src="/oxauth/ext/resources/js/base64js.js" />
    <script src="/oxauth/ext/resources/js/base64url.js" />
    <script src="/oxauth/ext/resources/js/webauthn.js" />
    <script src="/oxauth/ext/resources/js/fidoauth.js" />
  </ui:define>
</ui:composition>
